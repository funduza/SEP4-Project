
-- Add prediction data table to the database
USE u127812886_greenhouse;

-- Drop existing table to remove the foreign key constraint
DROP TABLE IF EXISTS prediction_datas;

-- Create prediction data table for future sensor readings
CREATE TABLE prediction_datas (
  id INT AUTO_INCREMENT PRIMARY KEY,
  predicted_temp DECIMAL(5,2) NOT NULL,
  predicted_air_humidity DECIMAL(5,2) NOT NULL,
  predicted_soil_humidity DECIMAL(5,2) NOT NULL,
  timestamp TIMESTAMP NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_timestamp (timestamp),
  INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Initial sample predictions for the first day 
-- (full dataset will be generated by the application)
INSERT INTO prediction_datas (predicted_temp, predicted_air_humidity, predicted_soil_humidity, timestamp)
VALUES 
  -- First day (current day)
  (24.5, 58.3, 52.1, NOW() + INTERVAL 1 HOUR),
  (24.8, 57.9, 52.4, NOW() + INTERVAL 2 HOUR),
  (25.2, 57.5, 52.7, NOW() + INTERVAL 3 HOUR),
  (25.5, 57.0, 53.0, NOW() + INTERVAL 4 HOUR),
  (25.8, 56.6, 53.3, NOW() + INTERVAL 5 HOUR),
  (26.1, 56.2, 53.6, NOW() + INTERVAL 6 HOUR),
  (26.3, 55.8, 53.9, NOW() + INTERVAL 7 HOUR),
  (26.5, 55.4, 54.2, NOW() + INTERVAL 8 HOUR),
  (26.7, 55.0, 54.5, NOW() + INTERVAL 9 HOUR),
  
  -- Second day
  (24.8, 58.1, 52.3, NOW() + INTERVAL 24 HOUR),
  (25.1, 57.7, 52.6, NOW() + INTERVAL 25 HOUR),
  (25.5, 57.3, 52.9, NOW() + INTERVAL 26 HOUR),
  (25.8, 56.8, 53.2, NOW() + INTERVAL 27 HOUR),
  (26.1, 56.4, 53.5, NOW() + INTERVAL 28 HOUR),
  (26.4, 56.0, 53.8, NOW() + INTERVAL 29 HOUR),
  (26.6, 55.6, 54.1, NOW() + INTERVAL 30 HOUR),
  (26.8, 55.2, 54.4, NOW() + INTERVAL 31 HOUR),
  (27.0, 54.8, 54.7, NOW() + INTERVAL 32 HOUR),
  
  -- Third day
  (25.0, 57.9, 52.5, NOW() + INTERVAL 48 HOUR),
  (25.3, 57.5, 52.8, NOW() + INTERVAL 49 HOUR),
  (25.7, 57.1, 53.1, NOW() + INTERVAL 50 HOUR),
  (26.0, 56.6, 53.4, NOW() + INTERVAL 51 HOUR),
  (26.3, 56.2, 53.7, NOW() + INTERVAL 52 HOUR),
  (26.6, 55.8, 54.0, NOW() + INTERVAL 53 HOUR),
  (26.8, 55.4, 54.3, NOW() + INTERVAL 54 HOUR),
  (27.0, 55.0, 54.6, NOW() + INTERVAL 55 HOUR),
  (27.2, 54.6, 54.9, NOW() + INTERVAL 56 HOUR),
  
  -- Seventh day
  (24.7, 58.2, 52.2, NOW() + INTERVAL 144 HOUR),
  (25.0, 57.8, 52.5, NOW() + INTERVAL 145 HOUR),
  (25.4, 57.4, 52.8, NOW() + INTERVAL 146 HOUR),
  (25.7, 56.9, 53.1, NOW() + INTERVAL 147 HOUR),
  (26.0, 56.5, 53.4, NOW() + INTERVAL 148 HOUR),
  (26.3, 56.1, 53.7, NOW() + INTERVAL 149 HOUR),
  (26.5, 55.7, 54.0, NOW() + INTERVAL 150 HOUR),
  (26.7, 55.3, 54.3, NOW() + INTERVAL 151 HOUR),
  (26.9, 54.9, 54.6, NOW() + INTERVAL 152 HOUR); 

